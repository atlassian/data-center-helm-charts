# CloudNativePG Operator configuration optimized for CI/test environments

replicaCount: 1

image:
  repository: ghcr.io/cloudnative-pg/cloudnative-pg
  pullPolicy: IfNotPresent
  tag: "1.27.0"

# Minimal resource limits for CI
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Disable monitoring for CI
monitoring:
  podMonitorEnabled: false
  grafanaDashboard:
    create: false

# Security context - compatible with microshift/OpenShift SCC
containerSecurityContext:
  runAsUser: null
  runAsGroup: null
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: true
  capabilities:
    drop:
      - ALL

podSecurityContext:
  runAsNonRoot: true
  seccompProfile:
    type: RuntimeDefault

# Service account
serviceAccount:
  create: true

# RBAC
rbac:
  create: true

# CRDs
crds:
  create: true